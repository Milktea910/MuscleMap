import{Q as N}from"./QTooltip-LorpOzhX.js";import{a9 as O,r as h,w as U,o as A,q as L,c as R,aa as k,ab as f,ac as o,ae as D,ag as a,ao as r,f as l,ah as G,ak as H,ai as E,F as y,al as C,as as J,at as w,az as K,aq as W}from"./index-Bn42XH2Q.js";import{Q as u}from"./QChip-4Dk9RzM6.js";import{Q as X}from"./QPage-CE1UNi1s.js";import{M as z,a as $}from"./MaleBack-CEgwATyd.js";import{F as Q,a as B}from"./FemaleBack-CozmKmUn.js";import{u as Y}from"./use-quasar-B9tJROjq.js";import{w as Z}from"./wiki-BbAW4oNI.js";import{m as F}from"./muscleMapping-CknbMQiE.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./position-engine-C9dRj_c-.js";import"./selection-CqqBGjGe.js";const le={class:"container q-mt-lg fade-in-up"},se={class:"lt-lg fixed-top-right q-pa-md"},te={class:"row items-center"},oe={class:"col-12 col-md-6 col-lg-4 flex flex-center gt-md"},ae={class:"col-12 col-md-6 col-lg-4 flex flex-center gt-md"},ie={class:"col-12 flex flex-center lt-lg"},re={class:"col-12 col-md-6 col-lg-4 flex flex-center gt-md"},ne={class:"col-12 col-md-6 col-lg-4 flex flex-center gt-md"},ue={class:"col-12 flex flex-center lt-lg"},ce={class:"col-12 col-lg-4 self-start q-mt-md shadow-3 card"},de={class:"equipment-grid q-mt-md"},ge={class:"equipment-row"},me={class:"equipment-row"},ve={__name:"MuscleMapPage",setup(fe){const S=Y(),V=D(),p=O(),x=h("男生"),g=h(!0),M=()=>{p.isLoggedIn&&p.gender&&(x.value=p.gender==="male"?"男生":"女生")};U(()=>[p.isLoggedIn,p.gender],()=>{M()},{immediate:!0}),A(()=>{M()}),L(()=>{n.value=[],b.value="",Object.keys(s.value).forEach(t=>{s.value[t]=!1})});const b=h(""),n=h([]),c=h("rgba(59, 130, 246, 0.7)"),s=h({啞鈴:!1,器械:!1,壺鈴:!1,繩索:!1,槓片:!1,史密斯:!1,槓鈴:!1,徒手:!1,藥球:!1,伸展:!1,彈力繩:!1,有氧:!1}),m=R(()=>Object.entries(s.value).filter(([,t])=>t===!0).map(([t])=>t)),P=async t=>{try{if(!t)return;const e=await Z.getExercises();if(!t||!e?.data?.exercises)return;const j=e.data.exercises.filter(v=>v.equipment===t),_=new Set;j.forEach(v=>{v.targetMuscle&&Array.isArray(v.targetMuscle)&&v.targetMuscle.forEach(I=>{_.add(I)})});const q=[];Array.from(_).forEach(v=>{F[v]&&q.push(...F[v])}),n.value=q}catch(e){console.error("搜尋肌肉群失敗:",e),S.notify({color:"negative",message:"搜尋肌肉群失敗",icon:"error"})}},d=async t=>{if(t)try{if(s.value[t]){s.value[t]=!1,b.value="",n.value=[],c.value="rgba(59, 130, 246, 0.7)";return}Object.keys(s.value).forEach(e=>{s.value[e]=!1}),s.value[t]=!0,b.value=t,c.value="rgba(255, 152, 0, 1)",await P(t)}catch(e){console.error("選擇器材失敗:",e),Object.keys(s.value).forEach(i=>{s.value[i]=!1}),b.value="",n.value=[],c.value="rgba(59, 130, 246, 0.7)"}},T=t=>{V.push({path:"/muscle-exercises",query:{equipment:t}})};return(t,e)=>(f(),k(X,{class:"flex flex-center"},{default:o(()=>[a("div",le,[e[27]||(e[27]=a("div",{class:"text-center"},[a("h1",{class:"section text-h4 q-mt-lg"},"肌肉地圖"),a("p",{class:"section-description text-center q-mb-lg"},[r(" 您可以在右邊選擇您想要的器材，然後點擊肌肉群來查看相關的動作和資訊。"),a("br")])],-1)),a("div",se,[l(G,{round:"",color:"primary",icon:g.value?"flip_to_back":"flip_to_front",onClick:e[0]||(e[0]=i=>g.value=!g.value),class:"shadow-5"},{default:o(()=>[l(N,null,{default:o(()=>[r(H(g.value?"切換到背面":"切換到正面"),1)]),_:1})]),_:1},8,["icon"])]),a("div",te,[x.value==="男生"?(f(),E(y,{key:0},[a("div",oe,[l(z,{key:"male-front-desktop",class:"model",selectedEquipments:m.value,highlightedMuscles:n.value,highlightColor:c.value},null,8,["selectedEquipments","highlightedMuscles","highlightColor"])]),a("div",ae,[l($,{key:"male-back-desktop",class:"model",selectedEquipments:m.value,highlightedMuscles:n.value,highlightColor:c.value},null,8,["selectedEquipments","highlightedMuscles","highlightColor"])]),a("div",ie,[g.value?(f(),k(z,{key:"male-front-mobile",class:"model",selectedEquipments:m.value,highlightedMuscles:n.value,highlightColor:c.value},null,8,["selectedEquipments","highlightedMuscles","highlightColor"])):C("",!0),g.value?C("",!0):(f(),k($,{key:"male-back-mobile",class:"model",selectedEquipments:m.value,highlightedMuscles:n.value,highlightColor:c.value},null,8,["selectedEquipments","highlightedMuscles","highlightColor"]))])],64)):(f(),E(y,{key:1},[a("div",re,[l(Q,{key:"female-front-desktop",class:"model",selectedEquipments:m.value,highlightedMuscles:n.value,highlightColor:c.value},null,8,["selectedEquipments","highlightedMuscles","highlightColor"])]),a("div",ne,[l(B,{key:"female-back-desktop",class:"model",selectedEquipments:m.value,highlightedMuscles:n.value,highlightColor:c.value},null,8,["selectedEquipments","highlightedMuscles","highlightColor"])]),a("div",ue,[g.value?(f(),k(Q,{key:"female-front-mobile",class:"model",selectedEquipments:m.value,highlightedMuscles:n.value,highlightColor:c.value},null,8,["selectedEquipments","highlightedMuscles","highlightColor"])):C("",!0),g.value?C("",!0):(f(),k(B,{key:"female-back-mobile",class:"model",selectedEquipments:m.value,highlightedMuscles:n.value,highlightColor:c.value},null,8,["selectedEquipments","highlightedMuscles","highlightColor"]))])],64)),a("div",ce,[l(J,{flat:"",bordered:"",class:"h-100",style:{"background-color":"white","border-color":"rgba(59, 102, 224, 0.2)"}},{default:o(()=>[l(w,null,{default:o(()=>[l(K,{size:"xl",modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=i=>x.value=i),"checked-icon":"female",color:"pink","false-value":"男生","true-value":"女生",label:x.value,"unchecked-icon":"male"},null,8,["modelValue","label"])]),_:1}),l(W,{inset:""}),l(w,{class:"q-pa-lg"},{default:o(()=>[e[26]||(e[26]=a("div",{class:"section text-h4"},"運動器材",-1)),a("div",de,[a("div",ge,[l(u,{size:"xl",selected:s.value.啞鈴,onClick:e[2]||(e[2]=i=>d("啞鈴")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/dumbbell.svg"},{default:o(()=>e[14]||(e[14]=[r(" 啞鈴 ")])),_:1,__:[14]},8,["selected"]),l(u,{size:"xl",selected:s.value.器械,onClick:e[3]||(e[3]=i=>d("器械")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/barbell.svg"},{default:o(()=>e[15]||(e[15]=[r(" 器械 ")])),_:1,__:[15]},8,["selected"]),l(u,{size:"xl",selected:s.value.壺鈴,onClick:e[4]||(e[4]=i=>d("壺鈴")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/kettlebells.svg"},{default:o(()=>e[16]||(e[16]=[r(" 壺鈴 ")])),_:1,__:[16]},8,["selected"]),l(u,{size:"xl",selected:s.value.繩索,onClick:e[5]||(e[5]=i=>d("繩索")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/cables.svg"},{default:o(()=>e[17]||(e[17]=[r(" 繩索 ")])),_:1,__:[17]},8,["selected"]),l(u,{size:"xl",selected:s.value.槓片,onClick:e[6]||(e[6]=i=>d("槓片")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/Plate.svg"},{default:o(()=>e[18]||(e[18]=[r(" 槓片 ")])),_:1,__:[18]},8,["selected"]),l(u,{size:"xl",selected:s.value.史密斯,onClick:e[7]||(e[7]=i=>d("史密斯")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/smith machine.svg"},{default:o(()=>e[19]||(e[19]=[r(" 史密斯 ")])),_:1,__:[19]},8,["selected"])]),a("div",me,[l(u,{size:"xl",selected:s.value.槓鈴,onClick:e[8]||(e[8]=i=>d("槓鈴")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/barbell.svg"},{default:o(()=>e[20]||(e[20]=[r(" 槓鈴 ")])),_:1,__:[20]},8,["selected"]),l(u,{size:"xl",selected:s.value.徒手,onClick:e[9]||(e[9]=i=>d("徒手")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/bodyweight.svg"},{default:o(()=>e[21]||(e[21]=[r(" 徒手 ")])),_:1,__:[21]},8,["selected"]),l(u,{size:"xl",selected:s.value.藥球,onClick:e[10]||(e[10]=i=>d("藥球")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/medicine ball.svg"},{default:o(()=>e[22]||(e[22]=[r(" 藥球 ")])),_:1,__:[22]},8,["selected"]),l(u,{size:"xl",selected:s.value.彈力繩,onClick:e[11]||(e[11]=i=>d("彈力繩")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/band.svg"},{default:o(()=>e[23]||(e[23]=[r(" 彈力繩 ")])),_:1,__:[23]},8,["selected"]),l(u,{size:"xl",selected:s.value.伸展,onClick:e[12]||(e[12]=i=>d("伸展")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/stretches.svg"},{default:o(()=>e[24]||(e[24]=[r(" 伸展 ")])),_:1,__:[24]},8,["selected"]),l(u,{size:"xl",onClick:e[13]||(e[13]=i=>T("有氧")),color:"orange",outline:"","text-color":"orange",icon:"img:./assets/icons/cardio.svg",clickable:""},{default:o(()=>e[25]||(e[25]=[r(" 有氧 ")])),_:1,__:[25]})])])]),_:1,__:[26]})]),_:1})])])])]),_:1}))}},ze=ee(ve,[["__scopeId","data-v-42c796a2"]]);export{ze as default};
