import{r as g,a8 as N,c as U,o as F,ad as j,aa as v,ab as c,ac as o,ag as t,f as a,ai as u,al as p,as as w,at as x,ay as O,an as W,au as H,F as k,aj as M,ak as n,ao as d,aB as K,ax as R,u as $,ah as G,aC as J}from"./index-Bn42XH2Q.js";import{Q}from"./QSelect-l1WsnEj9.js";import{Q as m}from"./QChip-4Dk9RzM6.js";import{Q as X,a as Y}from"./QToolbar-CecbVfQh.js";import{Q as Z,a as P,b as ee}from"./QItemLabel-CkehzaSt.js";import{Q as te}from"./QList-CU7fouqH.js";import{Q as se}from"./QPage-CE1UNi1s.js";import{C as le}from"./ClosePopup-Cem-9zu5.js";import{w as ae}from"./wiki-BbAW4oNI.js";import{v as oe,e as ie,m as ce}from"./muscleMapping-CknbMQiE.js";import{M as re,a as ne}from"./MaleBack-CEgwATyd.js";import{_ as ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./position-engine-C9dRj_c-.js";import"./selection-CqqBGjGe.js";import"./rtl-DFPa-2ov.js";import"./format-CoaQEihs.js";const de={class:"container fade-in-up"},me={class:"row q-col-gutter-lg q-mb-md"},fe={class:"col-12"},ge={class:"row q-col-gutter-lg"},ve={class:"col-12 col-md-4"},pe={class:"col-12 col-md-4"},he={class:"col-12 col-md-4"},_e={class:"row q-col-gutter-lg"},ye={class:"text-h6"},xe={class:"text-subtitle2 text-grey-6 target-muscle-text"},be={key:0},qe={key:1},we={class:"row items-center q-gutter-sm"},ke={key:0,class:"flex flex-center q-py-xl"},Me={key:1,class:"text-center q-py-xl"},Qe={class:"row q-col-gutter-lg"},Ve={class:"col-12 col-md-8"},Ce={key:0,class:"q-mb-lg"},Ae=["src"],Ee={class:"q-mb-md"},Be={class:"row q-col-gutter-lg justify-center"},Ie={class:"col-6 col-sm-5 col-md-4"},Le={class:"muscle-diagram-container"},Pe={class:"col-6 col-sm-5 col-md-4"},Te={class:"muscle-diagram-container"},ze={class:"col-12 col-md-4"},De={class:"q-mb-md"},Se={key:0},Ne={class:"q-mb-md"},Ue={class:"q-mb-md"},Fe={key:0,class:"q-mb-md"},je={__name:"WikiPage",setup(Oe){const h=j(),b=g([]),_=g(!1),q=g(!1),i=g(null),y=g(""),r=N({targetMuscle:null,equipment:null,difficulty:null}),V=oe,C=["啞鈴","器械","壺鈴","繩索","槓片","史密斯","槓鈴","徒手","藥球","伸展","彈力繩","有氧"],T=["簡單","普通","困難"],A=U(()=>{let s=b.value;if(y.value){const e=y.value.toLowerCase();s=s.filter(l=>l.name.toLowerCase().includes(e))}return r.targetMuscle&&(s=s.filter(e=>Array.isArray(e.targetMuscle)?e.targetMuscle.includes(r.targetMuscle):e.targetMuscle===r.targetMuscle)),r.equipment&&(s=s.filter(e=>e.equipment===r.equipment)),r.difficulty&&(s=s.filter(e=>e.difficulty===r.difficulty)),s=s.sort((e,l)=>e.name.localeCompare(l.name)),s}),z=async()=>{try{_.value=!0;const{data:s}=await ae.getExercises();b.value=s.exercises}catch(s){console.error("獲取動作資料失敗:",s),b.value=[]}finally{_.value=!1}},D=s=>{i.value=s,q.value=!0},E=s=>({啞鈴:"img:./assets/icons/dumbbell.svg",器械:"img:./assets/icons/barbell.svg",壺鈴:"img:./assets/icons/kettlebells.svg",繩索:"img:./assets/icons/cables.svg",槓片:"img:./assets/icons/Plate.svg",史密斯:"img:./assets/icons/smith machine.svg",槓鈴:"img:./assets/icons/barbell.svg",徒手:"img:./assets/icons/bodyweight.svg",藥球:"img:./assets/icons/medicine ball.svg",伸展:"img:./assets/icons/stretches.svg",彈力繩:"img:./assets/icons/band.svg",有氧:"img:./assets/icons/cardio.svg"})[s]||"fitness_center",B=s=>({簡單:"green",普通:"orange",困難:"red"})[s]||"grey",I=s=>{if(!s)return[];const e=Array.isArray(s)?s:[s],l=[];return e.forEach(f=>{const L=ce[f];L&&l.push(...L)}),l};F(()=>{z(),S()});const S=()=>{if(h.query.muscle){const s=h.query.muscle,e=ie[s];e&&V.includes(e)&&(r.targetMuscle=e)}if(h.query.equipment){const s=h.query.equipment.split(",");s.length===1&&C.includes(s[0])&&(r.equipment=s[0])}};return(s,e)=>(c(),v(se,{padding:""},{default:o(()=>[t("div",de,[e[7]||(e[7]=t("div",{class:"section-title text-h4 q-ma-lg text-center"},"動作百科",-1)),e[8]||(e[8]=t("p",{class:"section-description text-center q-mb-lg"}," 在這裡，您可以探索各種健身動作的詳細資訊，包括目標肌肉、使用器材、難易度等。透過我們的動作百科，您可以輕鬆找到適合自己的訓練動作，提升健身效果。 ",-1)),a(w,{class:"q-mb-lg"},{default:o(()=>[a(x,null,{default:o(()=>[e[5]||(e[5]=t("div",{class:"text-h6 q-mb-md"},"動作篩選",-1)),t("div",me,[t("div",fe,[a(O,{filled:"",modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=l=>y.value=l),label:"搜尋動作名稱",clearable:"",debounce:"300"},{prepend:o(()=>[a(W,{name:"search"})]),_:1},8,["modelValue"])])]),t("div",ge,[t("div",ve,[a(Q,{filled:"",modelValue:r.targetMuscle,"onUpdate:modelValue":e[1]||(e[1]=l=>r.targetMuscle=l),options:H(V),label:"目標肌肉",clearable:""},null,8,["modelValue","options"])]),t("div",pe,[a(Q,{filled:"",modelValue:r.equipment,"onUpdate:modelValue":e[2]||(e[2]=l=>r.equipment=l),options:C,label:"器材",clearable:""},null,8,["modelValue"])]),t("div",he,[a(Q,{filled:"",modelValue:r.difficulty,"onUpdate:modelValue":e[3]||(e[3]=l=>r.difficulty=l),options:T,label:"難易度",clearable:""},null,8,["modelValue"])])])]),_:1,__:[5]})]),_:1}),t("div",_e,[(c(!0),u(k,null,M(A.value,l=>(c(),u("div",{key:l._id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[a(w,{class:"exercise-card cursor-pointer",onClick:f=>D(l)},{default:o(()=>[a(x,null,{default:o(()=>[t("div",ye,n(l.name),1),t("div",xe,[Array.isArray(l.targetMuscle)?(c(),u("span",be,n(l.targetMuscle.join("、")),1)):(c(),u("span",qe,n(l.targetMuscle),1))])]),_:2},1024),a(x,{class:"q-pt-none"},{default:o(()=>[t("div",we,[a(m,{icon:E(l.equipment),"text-color":"black",size:"md"},{default:o(()=>[d(n(l.equipment),1)]),_:2},1032,["icon"]),a(m,{color:B(l.difficulty),"text-color":"white",size:"md"},{default:o(()=>[d(n(l.difficulty),1)]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]),_.value?(c(),u("div",ke,[a(K,{color:"primary",size:"3em"})])):p("",!0),!_.value&&A.value.length===0?(c(),u("div",Me,e[6]||(e[6]=[t("div",{class:"text-h6 text-grey-6"},"找不到符合條件的動作",-1)]))):p("",!0)]),a(R,{modelValue:q.value,"onUpdate:modelValue":e[4]||(e[4]=l=>q.value=l),maximized:!1,class:"exercise-dialog"},{default:o(()=>[i.value?(c(),v(w,{key:0,style:{width:"90vw","max-width":"1200px","max-height":"85vh"}},{default:o(()=>[a(X,{class:"bg-primary text-white"},{default:o(()=>[a(Y,null,{default:o(()=>[d(n(i.value.name),1)]),_:1}),$(a(G,{flat:"",round:"",dense:"",icon:"close"},null,512),[[le]])]),_:1}),a(x,{class:"scroll",style:{"max-height":"calc(85vh - 56px)","overflow-y":"auto"}},{default:o(()=>[t("div",Qe,[t("div",Ve,[i.value.video?(c(),u("div",Ce,[e[9]||(e[9]=t("div",{class:"text-h6 q-mb-sm"},"動作影片",-1)),t("video",{src:i.value.video,class:"full-width",style:{"max-height":"350px"},autoplay:"",loop:"",muted:"",playsinline:"","webkit-playsinline":""}," 您的瀏覽器不支援影片播放 ",8,Ae)])):p("",!0),t("div",Ee,[e[12]||(e[12]=t("div",{class:"text-h6 q-mb-sm"},"訓練部位圖解",-1)),t("div",Be,[t("div",Ie,[e[10]||(e[10]=t("div",{class:"text-center q-mb-xs"},[t("div",{class:"text-subtitle2"},"正面")],-1)),t("div",Le,[a(re,{"highlighted-muscles":I(i.value.targetMuscle),"highlight-color":"#ff9800","custom-click-handler":()=>{}},null,8,["highlighted-muscles"])])]),t("div",Pe,[e[11]||(e[11]=t("div",{class:"text-center q-mb-xs"},[t("div",{class:"text-subtitle2"},"背面")],-1)),t("div",Te,[a(ne,{"highlighted-muscles":I(i.value.targetMuscle),"highlight-color":"#ff9800","custom-click-handler":()=>{}},null,8,["highlighted-muscles"])])])])])]),t("div",ze,[t("div",De,[e[13]||(e[13]=t("div",{class:"text-h6"},"目標肌肉",-1)),Array.isArray(i.value.targetMuscle)?(c(),u("div",Se,[(c(!0),u(k,null,M(i.value.targetMuscle,l=>(c(),v(m,{key:l,color:"secondary","text-color":"white",class:"q-mr-xs q-mb-xs"},{default:o(()=>[d(n(l),1)]),_:2},1024))),128))])):(c(),v(m,{key:1,color:"secondary","text-color":"white"},{default:o(()=>[d(n(i.value.targetMuscle),1)]),_:1}))]),t("div",Ne,[e[14]||(e[14]=t("div",{class:"text-h6"},"使用器材",-1)),a(m,{outline:"",icon:E(i.value.equipment),"text-color":"black"},{default:o(()=>[d(n(i.value.equipment),1)]),_:1},8,["icon"])]),t("div",Ue,[e[15]||(e[15]=t("div",{class:"text-h6"},"難易度",-1)),a(m,{color:B(i.value.difficulty),"text-color":"white"},{default:o(()=>[d(n(i.value.difficulty),1)]),_:1},8,["color"])]),i.value.notes&&i.value.notes.length>0?(c(),u("div",Fe,[e[16]||(e[16]=t("div",{class:"text-h6 q-mb-sm"},"注意事項",-1)),a(te,{dense:""},{default:o(()=>[(c(!0),u(k,null,M(i.value.notes,(l,f)=>(c(),v(Z,{key:f,class:"q-pa-sm"},{default:o(()=>[a(P,{avatar:""},{default:o(()=>[a(J,{color:"warning","text-color":"white",size:"24px"},{default:o(()=>[d(n(f+1),1)]),_:2},1024)]),_:2},1024),a(P,null,{default:o(()=>[a(ee,{class:"text-body2"},{default:o(()=>[d(n(l),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):p("",!0)])])]),_:1})]),_:1})):p("",!0)]),_:1},8,["modelValue"])]),_:1}))}},it=ue(je,[["__scopeId","data-v-c0b1a4ac"]]);export{it as default};
