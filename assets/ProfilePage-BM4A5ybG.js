import{aJ as ne,r as y,c as A,a9 as re,ae as ue,o as de,aa as O,ab as v,ac as a,ag as o,f as e,as as N,at as Q,aC as B,an as _,au as b,ak as d,ao as w,aq as ee,ah as V,ax as se,al as te,ai as h,F as H,aj as W,av as ie,ay as I}from"./index-Bn42XH2Q.js";import{Q as J}from"./QChip-4Dk9RzM6.js";import{Q as M,a as z,b as S}from"./QItemLabel-CkehzaSt.js";import{Q as ce}from"./QList-CU7fouqH.js";import{Q as me,a as j}from"./QTable-CEYXPMf3.js";import{Q as fe,a as ve,b as we,c as pe}from"./QTabPanels-DyHw-Y6y.js";import{Q as ye}from"./QSelect-l1WsnEj9.js";import{Q as ge}from"./QForm-Cmlr_ukS.js";import{Q as _e}from"./QPage-CE1UNi1s.js";import{u as be}from"./use-quasar-B9tJROjq.js";import{u as he,_ as xe}from"./InbodyChartsSection-DMuEHHvB.js";import{r as U}from"./routine-CuuvH8Q_.js";import{_ as ke}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./touch-CjDUbXLY.js";import"./rtl-DFPa-2ov.js";import"./selection-CqqBGjGe.js";import"./use-render-cache-DLxPkVnQ.js";import"./position-engine-C9dRj_c-.js";import"./format-CoaQEihs.js";const Pe=ne("routine",()=>{const q=y([]),$=y([]),p=y([]),i=y(!1),f=y(null),R=y(null),C=y(!1),m=y(null),k=y(0),x=y(null),r=y(null),G=180*1e3,L=A(()=>q.value.length>0),K=A(()=>q.value.length),E=A(()=>q.value.reduce((s,u)=>s+(u.likesCount||0),0)),X=A(()=>i.value),Y=A(()=>R.value!==null),T=async()=>{try{i.value=!0,f.value=null;const{data:s}=await U.getUserRoutines();return q.value=s.data||[],q.value}catch(s){throw f.value=s,console.error("載入個人課表失敗:",s),s}finally{i.value=!1}};return{userRoutines:q,popularRoutines:$,publicRoutines:p,loading:i,error:f,likingRoutine:R,showDetailDialog:C,selectedRoutine:m,selectedDetailDay:k,hasRoutines:L,routineCount:K,totalLikes:E,isPublicRoutinesLoading:X,isLikingAnyRoutine:Y,fetchUserRoutines:T,fetchPopularRoutines:async()=>{try{i.value=!0,f.value=null;const{data:s}=await U.getPublicRoutines();return $.value=s.data,s.data}catch(s){throw f.value=s,s}finally{i.value=!1}},fetchPublicRoutines:async(s=!1)=>{const u=Date.now();if(!s&&x.value&&r.value&&u-r.value<G)return p.value=x.value,x.value;try{i.value=!0,f.value=null;const{data:c}=await U.getPublicRoutines();return p.value=c.data,x.value=c.data,r.value=u,c.data}catch(c){throw f.value=c,c}finally{i.value=!1}},createRoutine:async s=>{try{i.value=!0,f.value=null;const{data:u}=await U.create(s);return await T(),u}catch(u){throw f.value=u,console.error("新增課表失敗:",u),u}finally{i.value=!1}},updateRoutine:async(s,u)=>{try{i.value=!0,f.value=null;const{data:c}=await U.updateRoutine(s,u),P=q.value.findIndex(g=>g._id===s);return P!==-1&&(q.value[P]=c.data),c.data}catch(c){throw f.value=c,c}finally{i.value=!1}},deleteRoutine:async s=>{try{return i.value=!0,f.value=null,await U.deleteRoutine(s),await T(),!0}catch(u){throw f.value=u,console.error("刪除課表失敗:",u),u}finally{i.value=!1}},isLiked:(s,u)=>!u||!s.likes?!1:s.likes.includes(u),toggleLike:async(s,u)=>{if(!u)throw new Error("請先登入才能按讚");try{R.value=s;const{data:c}=await U.toggleLike(s),P=p.value.find(g=>g._id===s);if(P){if(P.likesCount=c.data.likesCount,c.data.liked)P.likes||(P.likes=[]),P.likes.push(u);else if(P.likes){const g=P.likes.indexOf(u);g>-1&&P.likes.splice(g,1)}}if(x.value){const g=x.value.find(F=>F._id===s);if(g){if(g.likesCount=c.data.likesCount,c.data.liked)g.likes||(g.likes=[]),g.likes.push(u);else if(g.likes){const F=g.likes.indexOf(u);F>-1&&g.likes.splice(F,1)}}}return c}catch(c){throw f.value=c,c}finally{R.value=null}},showRoutineDetail:s=>{m.value=s,s.weeklyPlan&&s.weeklyPlan.length>0?k.value=s.weeklyPlan[0].day:k.value=0,C.value=!0},closeDetailDialog:()=>{C.value=!1,m.value=null,k.value=0},formatDate:s=>new Date(s).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}),getDayName:s=>["星期一","星期二","星期三","星期四","星期五","星期六","星期日"][s]||`第${s+1}天`,clearRoutineData:()=>{q.value=[],$.value=[],p.value=[],i.value=!1,f.value=null,R.value=null,C.value=!1,m.value=null,k.value=0},clearCache:()=>{x.value=null,r.value=null}}},{persist:{key:"routine-store",storage:localStorage,paths:["userRoutines","popularRoutines"]}}),qe={class:"container q-mt-lg"},Re={class:"row q-col-gutter-lg equal-height-row"},Ce={class:"col-12 col-md-4"},Ve={class:"avatar-container q-mb-lg"},De={class:"avatar-overlay"},Qe={class:"text-h5 text-weight-bold q-mb-sm user-name"},ze={class:"action-buttons"},Se={class:"col-12 col-md-8"},Ue={class:"text-h5 q-mb-md row items-center justify-between"},$e={class:"row items-center"},Le={class:"full-width full-height row flex-center text-grey q-gutter-sm"},Te={class:"text-center"},Ae={class:"col-12"},Ne={class:"text-h5 q-mb-md row items-center justify-between"},Be={class:"row items-center"},Ie={class:"charts-container q-mb-lg"},je={class:"row items-center justify-between"},Ee={class:"q-mb-md"},Fe={class:"text-h6 q-mb-sm"},Oe={class:"row items-center q-mb-sm"},He={class:"text-caption text-grey-6"},We={class:"text-body1 q-mb-md"},Je={class:"routine-detail-content"},Me={key:0},Ge={class:"day-detail"},Ke={key:0,class:"rest-day-detail q-pa-md text-center"},Xe={key:0,class:"text-body2 text-grey-6 q-mt-sm"},Ye={key:1},Ze={class:"row items-center q-mb-sm"},et={class:"text-h6"},tt={class:"workout-stats row q-col-gutter-lg"},lt={class:"col"},at={class:"text-h6"},ot={class:"col"},st={class:"text-h6"},it={class:"col"},nt={class:"text-h6"},rt={key:0,class:"day-notes-detail q-pa-md q-mt-md"},ut={class:"text-subtitle2 q-mb-sm"},dt={class:"text-body2"},ct={key:2,class:"no-workouts-detail q-pa-md text-center"},mt={key:1},ft={class:"row items-center q-mb-sm"},vt={class:"text-h6"},wt={class:"workout-stats row q-col-gutter-lg"},pt={class:"col"},yt={class:"text-h6"},gt={class:"col"},_t={class:"text-h6"},bt={class:"col"},ht={class:"text-h6"},xt={key:2,class:"no-content-detail q-pa-md text-center"},kt={__name:"ProfilePage",setup(q){const $=ue(),p=be(),i=re(),f=he(),R=Pe(),C=y(!1),m=y(null),k=y(0),x=y(!1),r=y({account:"",username:"",gender:"",currentPassword:"",newPassword:"",confirmPassword:""}),G=[{name:"title",label:"課表標題",align:"left",field:"title",sortable:!0},{name:"isPublic",label:"狀態",align:"center",field:"isPublic",sortable:!0},{name:"likesCount",label:"讚數",align:"center",field:"likesCount",sortable:!0},{name:"createdAt",label:"建立時間",align:"center",field:"createdAt",sortable:!0},{name:"actions",label:"操作",align:"center"}];i.isLoggedIn||(p.notify({color:"red-5",textColor:"white",icon:"warning",message:"請先登入"}),$.push("/login"));const L=n=>n?new Date(n).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",K=n=>["星期一","星期二","星期三","星期四","星期五","星期六","星期日"][n]||`第${n+1}天`,E=async()=>{try{await i.loadProfile()}catch(n){console.error("獲取個人資料失敗:",n),p.notify({color:"red-5",textColor:"white",icon:"warning",message:"獲取個人資料失敗"})}},X=async()=>{try{await f.fetchInbodyHistory()}catch(n){console.error("載入 Inbody 紀錄失敗:",n),p.notify({color:"red-5",textColor:"white",icon:"warning",message:"載入 Inbody 紀錄失敗"})}},Y=async()=>{try{await R.fetchUserRoutines()}catch(n){console.error("載入個人課表失敗:",n),p.notify({color:"red-5",textColor:"white",icon:"warning",message:"載入個人課表失敗"})}},T=n=>{m.value=n,n.weeklyPlan&&n.weeklyPlan.length>0?k.value=n.weeklyPlan[0].day:k.value=0,C.value=!0},le=()=>{r.value={account:i.fullProfile.account||"",username:i.fullProfile.username||"",gender:i.fullProfile.gender||"",currentPassword:"",newPassword:"",confirmPassword:""},x.value=!0},Z=async()=>{try{if(r.value.newPassword&&r.value.newPassword!==r.value.confirmPassword){p.notify({color:"red-5",textColor:"white",icon:"warning",message:"新密碼與確認密碼不符"});return}const n={username:r.value.username,gender:r.value.gender};r.value.newPassword&&(n.currentPassword=r.value.currentPassword,n.newPassword=r.value.newPassword),await i.updateProfile(n),p.notify({color:"positive",textColor:"white",icon:"check",message:"個人資料更新成功"}),x.value=!1,await E()}catch(n){console.error("更新個人資料失敗:",n),p.notify({color:"red-5",textColor:"white",icon:"warning",message:n.response?.data?.message||"更新個人資料失敗"})}},ae=async n=>{p.dialog({title:"確認刪除",message:"您確定要刪除這個課表嗎？此操作無法復原。",cancel:!0,persistent:!0}).onOk(async()=>{try{await R.deleteRoutine(n),p.notify({color:"positive",textColor:"white",icon:"check",message:"課表刪除成功"})}catch(t){console.error("刪除課表失敗:",t),p.notify({color:"red-5",textColor:"white",icon:"warning",message:"刪除課表失敗"})}})};return de(async()=>{await E(),await X(),await Y()}),(n,t)=>(v(),O(_e,{class:"q-pa-md"},{default:a(()=>[o("div",qe,[o("div",Re,[o("div",Ce,[e(N,{class:"profile-card q-pa-lg",flat:"",bordered:""},{default:a(()=>[e(Q,{class:"text-center"},{default:a(()=>[o("div",Ve,[e(B,{size:"120px",class:"profile-avatar"},{default:a(()=>[e(_,{name:"account_circle",size:"120px",color:b(i).fullProfile.gender==="male"?"blue-6":"pink-6"},null,8,["color"])]),_:1}),o("div",De,[e(_,{name:"camera_alt",size:"24px",color:"white"})])]),o("div",Qe,d(b(i).fullProfile.username||"載入中..."),1),e(J,{color:b(i).fullProfile.role==="admin"?"negative":"positive","text-color":"white",size:"md",class:"role-chip q-mb-lg",icon:"badge"},{default:a(()=>[w(d(b(i).fullProfile.role==="admin"?"管理員":"一般用戶"),1)]),_:1},8,["color"])]),_:1}),e(ee),e(Q,null,{default:a(()=>[e(ce,{class:"profile-info-list"},{default:a(()=>[e(M,{class:"profile-info-item"},{default:a(()=>[e(z,{avatar:""},{default:a(()=>[e(B,{size:"40px",color:"primary","text-color":"white"},{default:a(()=>[e(_,{name:"person"})]),_:1})]),_:1}),e(z,null,{default:a(()=>[e(S,{class:"info-label"},{default:a(()=>t[16]||(t[16]=[w("使用者名稱")])),_:1,__:[16]}),e(S,{caption:"",class:"info-value"},{default:a(()=>[w(d(b(i).fullProfile.username||"載入中..."),1)]),_:1})]),_:1})]),_:1}),e(M,{class:"profile-info-item"},{default:a(()=>[e(z,{avatar:""},{default:a(()=>[e(B,{size:"40px",color:"info","text-color":"white"},{default:a(()=>[e(_,{name:"account_circle"})]),_:1})]),_:1}),e(z,null,{default:a(()=>[e(S,{class:"info-label"},{default:a(()=>t[17]||(t[17]=[w("帳號")])),_:1,__:[17]}),e(S,{caption:"",class:"info-value"},{default:a(()=>[w(d(b(i).fullProfile.account||"載入中..."),1)]),_:1})]),_:1})]),_:1}),e(M,{class:"profile-info-item"},{default:a(()=>[e(z,{avatar:""},{default:a(()=>[e(B,{size:"40px",color:"secondary","text-color":"white"},{default:a(()=>[e(_,{name:b(i).fullProfile.gender==="male"?"male":"female"},null,8,["name"])]),_:1})]),_:1}),e(z,null,{default:a(()=>[e(S,{class:"info-label"},{default:a(()=>t[18]||(t[18]=[w("性別")])),_:1,__:[18]}),e(S,{caption:"",class:"info-value"},{default:a(()=>[w(d(b(i).fullProfile.gender==="male"?"男性":"女性"),1)]),_:1})]),_:1})]),_:1}),e(M,{class:"profile-info-item"},{default:a(()=>[e(z,{avatar:""},{default:a(()=>[e(B,{size:"40px",color:"accent","text-color":"white"},{default:a(()=>[e(_,{name:"calendar_today"})]),_:1})]),_:1}),e(z,null,{default:a(()=>[e(S,{class:"info-label"},{default:a(()=>t[19]||(t[19]=[w("加入時間")])),_:1,__:[19]}),e(S,{caption:"",class:"info-value"},{default:a(()=>[w(d(L(b(i).fullProfile.createdAt)||"載入中..."),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(ee),e(Q,{class:"text-center"},{default:a(()=>[o("div",ze,[e(V,{label:"返回首頁",color:"primary",onClick:t[0]||(t[0]=l=>n.$router.push("/")),size:"md",class:"full-width q-mb-sm",icon:"home",unelevated:""}),e(V,{label:"編輯資料",color:"secondary",onClick:le,size:"md",class:"full-width",icon:"edit",outline:""})])]),_:1})]),_:1})]),o("div",Se,[e(N,{class:"q-pa-lg profile-card"},{default:a(()=>[e(Q,null,{default:a(()=>[o("div",Ue,[o("div",$e,[e(_,{name:"event_note",color:"primary",class:"q-mr-sm"}),t[20]||(t[20]=w(" 我的課表 "))]),e(V,{flat:"",color:"primary",icon:"arrow_forward",label:"前往管理",onClick:t[1]||(t[1]=l=>n.$router.push("/myroutines")),size:"md"})]),e(me,{rows:b(R).userRoutines,columns:G,"row-key":"_id",loading:b(R).loading,pagination:{rowsPerPage:10},flat:"",bordered:"",class:"full-height"},{"body-cell-title":a(l=>[e(j,{props:l},{default:a(()=>[w(d(l.value||"-"),1)]),_:2},1032,["props"])]),"body-cell-isPublic":a(l=>[e(j,{props:l},{default:a(()=>[e(J,{color:l.value?"positive":"warning","text-color":"white",size:"sm"},{default:a(()=>[w(d(l.value?"公開":"私人"),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-likesCount":a(l=>[e(j,{props:l},{default:a(()=>[w(d(l.value||0),1)]),_:2},1032,["props"])]),"body-cell-createdAt":a(l=>[e(j,{props:l},{default:a(()=>[w(d(L(l.value)||"-"),1)]),_:2},1032,["props"])]),"body-cell-actions":a(l=>[e(j,{props:l},{default:a(()=>[e(V,{flat:"",round:"",color:"primary",icon:"visibility",size:"sm",onClick:D=>T(l.row)},null,8,["onClick"]),e(V,{flat:"",round:"",color:"negative",icon:"delete",size:"sm",onClick:D=>ae(l.row._id)},null,8,["onClick"])]),_:2},1032,["props"])]),"no-data":a(()=>[o("div",Le,[o("div",Te,[e(_,{name:"event_note",size:"48px",class:"q-mb-md"}),t[21]||(t[21]=o("div",{class:"text-h6 q-mb-sm"},"尚無個人課表",-1)),t[22]||(t[22]=o("div",{class:"text-body2"},"開始建立您的第一個課表吧！",-1))])])]),_:1},8,["rows","loading"])]),_:1})]),_:1})]),o("div",Ae,[e(N,{class:"q-pa-lg profile-card"},{default:a(()=>[e(Q,null,{default:a(()=>[o("div",Ne,[o("div",Be,[e(_,{name:"assessment",color:"primary",class:"q-mr-sm"}),t[23]||(t[23]=w(" Inbody 紀錄 "))]),e(V,{flat:"",color:"primary",icon:"arrow_forward",label:"前往管理",onClick:t[2]||(t[2]=l=>n.$router.push("/inbody")),size:"md"})]),o("div",Ie,[e(xe,{"inbody-history":b(f).inbodyRecords,loading:b(f).loading},null,8,["inbody-history","loading"])])]),_:1})]),_:1})])])]),e(se,{modelValue:C.value,"onUpdate:modelValue":t[7]||(t[7]=l=>C.value=l),position:"standard"},{default:a(()=>[e(N,{style:{"min-width":"700px","max-width":"900px","max-height":"80vh"}},{default:a(()=>[e(Q,null,{default:a(()=>[o("div",je,[t[24]||(t[24]=o("div",{class:"text-h6"},"課表詳情",-1)),e(V,{icon:"close",flat:"",round:"",dense:"",onClick:t[3]||(t[3]=l=>C.value=!1)})])]),_:1}),m.value?(v(),O(Q,{key:0,class:"q-pt-none",style:{"max-height":"60vh","overflow-y":"auto"}},{default:a(()=>[o("div",Ee,[o("div",Fe,d(m.value.title),1),o("div",Oe,[e(J,{color:"primary","text-color":"white",size:"md",class:"q-mr-sm"},{default:a(()=>[w(d(m.value.user?.username||"未知用戶"),1)]),_:1}),e(J,{color:m.value.isPublic?"positive":"warning","text-color":"white",size:"md",class:"q-mr-sm"},{default:a(()=>[w(d(m.value.isPublic?"公開":"私人"),1)]),_:1},8,["color"]),o("div",He,d(L(m.value.createdAt)),1)]),o("div",We,d(m.value.content),1)]),o("div",Je,[m.value.weeklyPlan&&m.value.weeklyPlan.length>0?(v(),h("div",Me,[t[31]||(t[31]=o("div",{class:"text-h6 q-mb-md"},"週計劃詳細內容",-1)),e(fe,{modelValue:k.value,"onUpdate:modelValue":t[4]||(t[4]=l=>k.value=l),class:"q-mb-md",align:"left"},{default:a(()=>[(v(!0),h(H,null,W(m.value.weeklyPlan,l=>(v(),O(ve,{key:l.day,name:l.day,label:l.name||K(l.day)},null,8,["name","label"]))),128))]),_:1},8,["modelValue"]),e(we,{modelValue:k.value,"onUpdate:modelValue":t[5]||(t[5]=l=>k.value=l),animated:""},{default:a(()=>[(v(!0),h(H,null,W(m.value.weeklyPlan,l=>(v(),O(pe,{key:l.day,name:l.day},{default:a(()=>[o("div",Ge,[l.isRestDay?(v(),h("div",Ke,[e(_,{name:"bed",size:"3rem",color:"grey-5"}),t[25]||(t[25]=o("div",{class:"text-h6 q-mt-md text-grey-6"},"休息日",-1)),l.notes?(v(),h("div",Xe,d(l.notes),1)):te("",!0)])):l.workouts&&l.workouts.length>0?(v(),h("div",Ye,[(v(!0),h(H,null,W(l.workouts,(D,oe)=>(v(),h("div",{key:oe,class:"workout-detail-item q-mb-md q-pa-md"},[o("div",Ze,[e(_,{name:"fitness_center",color:"primary",class:"q-mr-sm"}),o("div",et,d(D.exercise?.name||"未知動作"),1)]),o("div",tt,[o("div",lt,[t[26]||(t[26]=o("div",{class:"text-caption text-grey-6"},"組數",-1)),o("div",at,d(D.sets),1)]),o("div",ot,[t[27]||(t[27]=o("div",{class:"text-caption text-grey-6"},"次數",-1)),o("div",st,d(D.reps),1)]),o("div",it,[t[28]||(t[28]=o("div",{class:"text-caption text-grey-6"},"休息時間",-1)),o("div",nt,d(D.rest)+"秒",1)])])]))),128)),l.notes?(v(),h("div",rt,[o("div",ut,[e(_,{name:"note",class:"q-mr-sm"}),t[29]||(t[29]=w(" 備註 "))]),o("div",dt,d(l.notes),1)])):te("",!0)])):(v(),h("div",ct,[e(_,{name:"info",size:"2rem",color:"grey-5"}),t[30]||(t[30]=o("div",{class:"text-body1 q-mt-md text-grey-6"},"此日尚未安排訓練",-1))]))])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])):m.value.workouts&&m.value.workouts.length>0?(v(),h("div",mt,[t[35]||(t[35]=o("div",{class:"text-h6 q-mb-md"},"動作詳細內容",-1)),(v(!0),h(H,null,W(m.value.workouts,(l,D)=>(v(),h("div",{key:D,class:"workout-detail-item q-mb-md q-pa-md"},[o("div",ft,[e(_,{name:"fitness_center",color:"primary",class:"q-mr-sm"}),o("div",vt,d(l.exercise?.name||"未知動作"),1)]),o("div",wt,[o("div",pt,[t[32]||(t[32]=o("div",{class:"text-caption text-grey-6"},"組數",-1)),o("div",yt,d(l.sets),1)]),o("div",gt,[t[33]||(t[33]=o("div",{class:"text-caption text-grey-6"},"次數",-1)),o("div",_t,d(l.reps),1)]),o("div",bt,[t[34]||(t[34]=o("div",{class:"text-caption text-grey-6"},"休息時間",-1)),o("div",ht,d(l.rest)+"秒",1)])])]))),128))])):(v(),h("div",xt,[e(_,{name:"info",size:"3rem",color:"grey-5"}),t[36]||(t[36]=o("div",{class:"text-h6 q-mt-md text-grey-6"},"此課表尚未設定訓練內容",-1))]))])]),_:1})):te("",!0),e(ie,{align:"right"},{default:a(()=>[e(V,{flat:"",label:"關閉",onClick:t[6]||(t[6]=l=>C.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(se,{modelValue:x.value,"onUpdate:modelValue":t[15]||(t[15]=l=>x.value=l),position:"standard"},{default:a(()=>[e(N,{style:{"min-width":"500px"}},{default:a(()=>[e(Q,null,{default:a(()=>t[37]||(t[37]=[o("div",{class:"text-h6"},"編輯個人資料",-1)])),_:1,__:[37]}),e(Q,null,{default:a(()=>[e(ge,{onSubmit:Z,class:"q-col-gutter-lg"},{default:a(()=>[e(I,{modelValue:r.value.account,"onUpdate:modelValue":t[8]||(t[8]=l=>r.value.account=l),label:"帳號",outlined:"",readonly:"",disable:"",hint:"帳號無法修改"},null,8,["modelValue"]),e(I,{modelValue:r.value.username,"onUpdate:modelValue":t[9]||(t[9]=l=>r.value.username=l),label:"使用者名稱",outlined:"",rules:[l=>!!l||"使用者名稱不能為空"]},null,8,["modelValue","rules"]),e(ye,{modelValue:r.value.gender,"onUpdate:modelValue":t[10]||(t[10]=l=>r.value.gender=l),options:[{label:"男性",value:"male"},{label:"女性",value:"female"}],"option-label":"label","option-value":"value","emit-value":"","map-options":"",label:"性別",outlined:"",rules:[l=>!!l||"請選擇性別"]},null,8,["modelValue","rules"]),e(ee,{class:"q-my-md"}),t[38]||(t[38]=o("div",{class:"text-subtitle2 text-grey-7 q-mb-sm"},"更改密碼 (選填)",-1)),e(I,{modelValue:r.value.currentPassword,"onUpdate:modelValue":t[11]||(t[11]=l=>r.value.currentPassword=l),label:"目前密碼",type:"password",outlined:""},null,8,["modelValue"]),e(I,{modelValue:r.value.newPassword,"onUpdate:modelValue":t[12]||(t[12]=l=>r.value.newPassword=l),label:"新密碼",type:"password",outlined:"",rules:[l=>!l||l.length>=6||"密碼至少需要6個字元"]},null,8,["modelValue","rules"]),e(I,{modelValue:r.value.confirmPassword,"onUpdate:modelValue":t[13]||(t[13]=l=>r.value.confirmPassword=l),label:"確認新密碼",type:"password",outlined:"",rules:[l=>!r.value.newPassword||!!l||"請確認新密碼",l=>!r.value.newPassword||l===r.value.newPassword||"密碼不一致"]},null,8,["modelValue","rules"])]),_:1,__:[38]})]),_:1}),e(ie,{align:"right"},{default:a(()=>[e(V,{flat:"",label:"取消",onClick:t[14]||(t[14]=l=>x.value=!1)}),e(V,{label:"儲存",color:"primary",onClick:Z,loading:b(i).loading},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Mt=ke(kt,[["__scopeId","data-v-5f11e301"]]);export{Mt as default};
