import{m as le,g as re,a as He,n as N,p as pe,r as q,c,w as T,q as ze,t as yt,h as k,u as ae,v as gt,x as pt,y as zt,o as Je,z as Ge,A as St,B as wt,C as _t,D as ke,E as ie,G as xe,H as ve,I as Le,J as Ee,K as Te,L as qt,M as Ct,O as Ze,P as et,Q as kt,R as Me,S as xt,U as Tt,V as tt,W as De,X as Mt,Y as Ot,Z as $t,_ as Bt,$ as Pt,a0 as Lt,a1 as Ve,a2 as Fe,a3 as at,a4 as lt,a5 as Ht,a6 as Oe,a7 as Qt,a8 as fe,b as At,a9 as Et,aa as R,ab as B,ac as C,ad as Dt,ae as Vt,af as Re,f as M,ag as oe,ah as he,ai as J,F as G,aj as ue,ak as te,al as Ft,am as $e,an as me,ao as be,ap as ye,aq as Rt,ar as Wt}from"./index-Bn42XH2Q.js";import{Q as jt,a as Nt}from"./QToolbar-CecbVfQh.js";import{Q as ce,g as We,s as je}from"./touch-CjDUbXLY.js";import{Q as ge,a as Z}from"./QItemLabel-CkehzaSt.js";import{Q as Xt}from"./QExpansionItem-CvVOF5H0.js";import{Q as Ne}from"./QList-CU7fouqH.js";import{c as Yt}from"./selection-CqqBGjGe.js";import{b as j}from"./format-CoaQEihs.js";import{u as Ut}from"./use-quasar-B9tJROjq.js";import{_ as It}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Kt=le({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:g,emit:u}){const{proxy:{$q:f}}=re(),t=He(pe,N);if(t===N)return console.error("QHeader needs to be child of QLayout"),N;const a=q(parseInt(e.heightHint,10)),r=q(!0),l=c(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||f.platform.is.ios&&t.isContainer.value===!0),b=c(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return r.value===!0?a.value:0;const d=a.value-t.scroll.value.position;return d>0?d:0}),v=c(()=>e.modelValue!==!0||l.value===!0&&r.value!==!0),n=c(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),x=c(()=>"q-header q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),h=c(()=>{const d=t.rows.value.top,$={};return d[0]==="l"&&t.left.space===!0&&($[f.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),d[2]==="r"&&t.right.space===!0&&($[f.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),$});function y(d,$){t.update("header",d,$)}function z(d,$){d.value!==$&&(d.value=$)}function P({height:d}){z(a,d),y("size",d)}function s(d){n.value===!0&&z(r,!0),u("focusin",d)}T(()=>e.modelValue,d=>{y("space",d),z(r,!0),t.animate()}),T(b,d=>{y("offset",d)}),T(()=>e.reveal,d=>{d===!1&&z(r,e.modelValue)}),T(r,d=>{t.animate(),u("reveal",d)}),T(t.scroll,d=>{e.reveal===!0&&z(r,d.direction==="up"||d.position<=e.revealOffset||d.position-d.inflectionPoint<100)});const p={};return t.instances.header=p,e.modelValue===!0&&y("size",a.value),y("space",e.modelValue),y("offset",b.value),ze(()=>{t.instances.header===p&&(t.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const d=yt(g.default,[]);return e.elevated===!0&&d.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),d.push(k(ce,{debounce:0,onResize:P})),k("header",{class:x.value,style:h.value,onFocusin:s},d)}}}),Jt=le({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[k("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),k("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),ae(k("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),ae(k("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),{passive:Xe}=gt,Gt=["both","horizontal","vertical"],ot=le({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Gt.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:pt},emits:["scroll"],setup(e,{emit:g}){const u={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let f=null,t,a;T(()=>e.scrollTarget,()=>{b(),l()});function r(){f?.();const x=Math.max(0,St(t)),h=wt(t),y={top:x-u.position.top,left:h-u.position.left};if(e.axis==="vertical"&&y.top===0||e.axis==="horizontal"&&y.left===0)return;const z=Math.abs(y.top)>=Math.abs(y.left)?y.top<0?"up":"down":y.left<0?"left":"right";u.position={top:x,left:h},u.directionChanged=u.direction!==z,u.delta=y,u.directionChanged===!0&&(u.direction=z,u.inflectionPoint=u.position),g("scroll",{...u})}function l(){t=zt(a,e.scrollTarget),t.addEventListener("scroll",v,Xe),v(!0)}function b(){t!==void 0&&(t.removeEventListener("scroll",v,Xe),t=void 0)}function v(x){if(x===!0||e.debounce===0||e.debounce==="0")r();else if(f===null){const[h,y]=e.debounce?[setTimeout(r,e.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];f=()=>{y(h),f=null}}}const{proxy:n}=re();return T(()=>n.$q.lang.rtl,r),Je(()=>{a=n.$el.parentNode,l()}),ze(()=>{f?.(),b()}),Object.assign(n,{trigger:v,getPosition:()=>u}),Ge}});function Be(e,g,u){const f=Le(e);let t,a=f.left-g.event.x,r=f.top-g.event.y,l=Math.abs(a),b=Math.abs(r);const v=g.direction;v.horizontal===!0&&v.vertical!==!0?t=a<0?"left":"right":v.horizontal!==!0&&v.vertical===!0?t=r<0?"up":"down":v.up===!0&&r<0?(t="up",l>b&&(v.left===!0&&a<0?t="left":v.right===!0&&a>0&&(t="right"))):v.down===!0&&r>0?(t="down",l>b&&(v.left===!0&&a<0?t="left":v.right===!0&&a>0&&(t="right"))):v.left===!0&&a<0?(t="left",l<b&&(v.up===!0&&r<0?t="up":v.down===!0&&r>0&&(t="down"))):v.right===!0&&a>0&&(t="right",l<b&&(v.up===!0&&r<0?t="up":v.down===!0&&r>0&&(t="down")));let n=!1;if(t===void 0&&u===!1){if(g.event.isFirst===!0||g.event.lastDir===void 0)return{};t=g.event.lastDir,n=!0,t==="left"||t==="right"?(f.left-=a,l=0,a=0):(f.top-=r,b=0,r=0)}return{synthetic:n,payload:{evt:e,touch:g.event.mouse!==!0,mouse:g.event.mouse===!0,position:f,direction:t,isFirst:g.event.isFirst,isFinal:u===!0,duration:Date.now()-g.event.time,distance:{x:l,y:b},offset:{x:a,y:r},delta:{x:f.left-g.event.lastX,y:f.top-g.event.lastY}}}}let Zt=0;const se=_t({name:"touch-pan",beforeMount(e,{value:g,modifiers:u}){if(u.mouse!==!0&&ie.has.touch!==!0)return;function f(a,r){u.mouse===!0&&r===!0?Ct(a):(u.stop===!0&&Te(a),u.prevent===!0&&Ee(a))}const t={uid:"qvtp_"+Zt++,handler:g,modifiers:u,direction:We(u),noop:Ge,mouseStart(a){je(a,t)&&qt(a)&&(ve(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(je(a,t)){const r=a.target;ve(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,r){if(ie.is.firefox===!0&&xe(e,!0),t.lastEvt=a,r===!0||u.stop===!0){if(t.direction.all!==!0&&(r!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const v=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&Ee(v),a.cancelBubble===!0&&Te(v),Object.assign(v,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:v}}Te(a)}const{left:l,top:b}=Le(a);t.event={x:l,y:b,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:b}},move(a){if(t.event===void 0)return;const r=Le(a),l=r.left-t.event.x,b=r.top-t.event.y;if(l===0&&b===0)return;t.lastEvt=a;const v=t.event.mouse===!0,n=()=>{f(a,v);let y;u.preserveCursor!==!0&&u.preservecursor!==!0&&(y=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),v===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Yt(),t.styleCleanup=z=>{if(t.styleCleanup=void 0,y!==void 0&&(document.documentElement.style.cursor=y),document.body.classList.remove("non-selectable"),v===!0){const P=()=>{document.body.classList.remove("no-pointer-events--children")};z!==void 0?setTimeout(()=>{P(),z()},50):P()}else z!==void 0&&z()}};if(t.event.detected===!0){t.event.isFirst!==!0&&f(a,t.event.mouse);const{payload:y,synthetic:z}=Be(a,t,!1);y!==void 0&&(t.handler(y)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&n(),t.event.lastX=y.position.left,t.event.lastY=y.position.top,t.event.lastDir=z===!0?void 0:y.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||v===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){n(),t.event.detected=!0,t.move(a);return}const x=Math.abs(l),h=Math.abs(b);x!==h&&(t.direction.horizontal===!0&&x>h||t.direction.vertical===!0&&x<h||t.direction.up===!0&&x<h&&b<0||t.direction.down===!0&&x<h&&b>0||t.direction.left===!0&&x>h&&l<0||t.direction.right===!0&&x>h&&l>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,r){if(t.event!==void 0){if(ke(t,"temp"),ie.is.firefox===!0&&xe(e,!1),r===!0)t.styleCleanup?.(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Be(a===void 0?t.lastEvt:a,t).payload);const{payload:l}=Be(a===void 0?t.lastEvt:a,t,!0),b=()=>{t.handler(l)};t.styleCleanup!==void 0?t.styleCleanup(b):b()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,u.mouse===!0){const a=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";ve(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}ie.has.touch===!0&&ve(t,"main",[[e,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,g){const u=e.__qtouchpan;u!==void 0&&(g.oldValue!==g.value&&(typeof value!="function"&&u.end(),u.handler=g.value),u.direction=We(g.modifiers))},beforeUnmount(e){const g=e.__qtouchpan;g!==void 0&&(g.event!==void 0&&g.end(),ke(g,"main"),ke(g,"temp"),ie.is.firefox===!0&&xe(e,!1),g.styleCleanup?.(),delete e.__qtouchpan)}}),Ye=["vertical","horizontal"],Pe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ue={prevent:!0,mouse:!0,mouseAllDir:!0},Ie=e=>e>=250?50:Math.ceil(e/5),ea=le({name:"QScrollArea",props:{...Ze,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:g,emit:u}){const f=q(!1),t=q(!1),a=q(!1),r={vertical:q(0),horizontal:q(0)},l={vertical:{ref:q(null),position:q(0),size:q(0)},horizontal:{ref:q(null),position:q(0),size:q(0)}},{proxy:b}=re(),v=et(e,b.$q);let n=null,x;const h=q(null),y=c(()=>"q-scrollarea"+(v.value===!0?" q-scrollarea--dark":""));Object.assign(r,{verticalInner:c(()=>r.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:c(()=>r.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),l.vertical.percentage=c(()=>{const i=l.vertical.size.value-r.vertical.value;if(i<=0)return 0;const m=j(l.vertical.position.value/i,0,1);return Math.round(m*1e4)/1e4}),l.vertical.thumbHidden=c(()=>(e.visible===null?a.value:e.visible)!==!0&&f.value===!1&&t.value===!1||l.vertical.size.value<=r.vertical.value+1),l.vertical.thumbStart=c(()=>e.verticalOffset[0]+l.vertical.percentage.value*(r.verticalInner.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=c(()=>Math.round(j(r.verticalInner.value*r.verticalInner.value/l.vertical.size.value,Ie(r.verticalInner.value),r.verticalInner.value))),l.vertical.style=c(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),l.vertical.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=c(()=>{const i=l.horizontal.size.value-r.horizontal.value;if(i<=0)return 0;const m=j(Math.abs(l.horizontal.position.value)/i,0,1);return Math.round(m*1e4)/1e4}),l.horizontal.thumbHidden=c(()=>(e.visible===null?a.value:e.visible)!==!0&&f.value===!1&&t.value===!1||l.horizontal.size.value<=r.horizontal.value+1),l.horizontal.thumbStart=c(()=>e.horizontalOffset[0]+l.horizontal.percentage.value*(r.horizontalInner.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=c(()=>Math.round(j(r.horizontalInner.value*r.horizontalInner.value/l.horizontal.size.value,Ie(r.horizontalInner.value),r.horizontalInner.value))),l.horizontal.style=c(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[b.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),l.horizontal.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const z=c(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function P(){const i={};return Ye.forEach(m=>{const _=l[m];Object.assign(i,{[m+"Position"]:_.position.value,[m+"Percentage"]:_.percentage.value,[m+"Size"]:_.size.value,[m+"ContainerSize"]:r[m].value,[m+"ContainerInnerSize"]:r[m+"Inner"].value})}),i}const s=kt(()=>{const i=P();i.ref=b,u("scroll",i)},0);function p(i,m,_){if(Ye.includes(i)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(i==="vertical"?De:Me)(h.value,m,_)}function d({height:i,width:m}){let _=!1;r.vertical.value!==i&&(r.vertical.value=i,_=!0),r.horizontal.value!==m&&(r.horizontal.value=m,_=!0),_===!0&&H()}function $({position:i}){let m=!1;l.vertical.position.value!==i.top&&(l.vertical.position.value=i.top,m=!0),l.horizontal.position.value!==i.left&&(l.horizontal.position.value=i.left,m=!0),m===!0&&H()}function w({height:i,width:m}){l.horizontal.size.value!==m&&(l.horizontal.size.value=m,H()),l.vertical.size.value!==i&&(l.vertical.size.value=i,H())}function O(i,m){const _=l[m];if(i.isFirst===!0){if(_.thumbHidden.value===!0)return;x=_.position.value,t.value=!0}else if(t.value!==!0)return;i.isFinal===!0&&(t.value=!1);const V=Pe[m],W=(_.size.value-r[m].value)/(r[m+"Inner"].value-_.thumbSize.value),F=i.distance[V.dist],ne=x+(i.direction===V.dir?1:-1)*F*W;X(ne,m)}function L(i,m){const _=l[m];if(_.thumbHidden.value!==!0){const V=m==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],W=i[Pe[m].offset]-V,F=_.thumbStart.value-V;if(W<F||W>F+_.thumbSize.value){const ne=W-_.thumbSize.value/2,Se=j(ne/(r[m+"Inner"].value-_.thumbSize.value),0,1);X(Se*Math.max(0,_.size.value-r[m].value),m)}_.ref.value!==null&&_.ref.value.dispatchEvent(new MouseEvent(i.type,i))}}function H(){f.value=!0,n!==null&&clearTimeout(n),n=setTimeout(()=>{n=null,f.value=!1},e.delay),e.onScroll!==void 0&&s()}function X(i,m){h.value[Pe[m].scroll]=i}let Q=null;function D(){Q!==null&&clearTimeout(Q),Q=setTimeout(()=>{Q=null,a.value=!0},b.$q.platform.is.ios?50:0)}function Y(){Q!==null&&(clearTimeout(Q),Q=null),a.value=!1}let ee=null;T(()=>b.$q.lang.rtl,i=>{h.value!==null&&Me(h.value,Math.abs(l.horizontal.position.value)*(i===!0?-1:1))}),xt(()=>{ee={top:l.vertical.position.value,left:l.horizontal.position.value}}),Tt(()=>{if(ee===null)return;const i=h.value;i!==null&&(Me(i,ee.left),De(i,ee.top))}),ze(s.cancel),Object.assign(b,{getScrollTarget:()=>h.value,getScroll:P,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:p,setScrollPercentage(i,m,_){p(i,m*(l[i].size.value-r[i].value)*(i==="horizontal"&&b.$q.lang.rtl===!0?-1:1),_)}});const U={scroll:l,thumbVertDir:[[se,i=>{O(i,"vertical")},void 0,{vertical:!0,...Ue}]],thumbHorizDir:[[se,i=>{O(i,"horizontal")},void 0,{horizontal:!0,...Ue}]],onVerticalMousedown(i){L(i,"vertical")},onHorizontalMousedown(i){L(i,"horizontal")}};return()=>k("div",{class:y.value,onMouseenter:D,onMouseleave:Y},[k("div",{ref:h,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[k("div",{class:"q-scrollarea__content absolute",style:z.value},tt(g.default,[k(ce,{debounce:0,onResize:w})])),k(ot,{axis:"both",onScroll:$})]),k(ce,{debounce:0,onResize:d}),k(Jt,{store:U,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Ke=150,ta=le({name:"QDrawer",inheritAttrs:!1,props:{...Ot,...Ze,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Mt,"onLayout","miniState"],setup(e,{slots:g,emit:u,attrs:f}){const t=re(),{proxy:{$q:a}}=t,r=et(e,a),{preventBodyScroll:l}=Lt(),{registerTimeout:b,removeTimeout:v}=$t(),n=He(pe,N);if(n===N)return console.error("QDrawer needs to be child of QLayout"),N;let x,h=null,y;const z=q(e.behavior==="mobile"||e.behavior!=="desktop"&&n.totalWidth.value<=e.breakpoint),P=c(()=>e.mini===!0&&z.value!==!0),s=c(()=>P.value===!0?e.miniWidth:e.width),p=q(e.showIfAbove===!0&&z.value===!1?!0:e.modelValue===!0),d=c(()=>e.persistent!==!0&&(z.value===!0||ne.value===!0));function $(o,S){if(H(),o!==!1&&n.animate(),E(0),z.value===!0){const A=n.instances[_.value];A?.belowBreakpoint===!0&&A.hide(!1),I(1),n.isContainer.value!==!0&&l(!0)}else I(0),o!==!1&&_e(!1);b(()=>{o!==!1&&_e(!0),S!==!0&&u("show",o)},Ke)}function w(o,S){X(),o!==!1&&n.animate(),I(0),E(Y.value*s.value),qe(),S!==!0?b(()=>{u("hide",o)},Ke):v()}const{show:O,hide:L}=Bt({showing:p,hideOnRouteChange:d,handleShow:$,handleHide:w}),{addToHistory:H,removeFromHistory:X}=Pt(p,L,d),Q={belowBreakpoint:z,hide:L},D=c(()=>e.side==="right"),Y=c(()=>(a.lang.rtl===!0?-1:1)*(D.value===!0?1:-1)),ee=q(0),U=q(!1),i=q(!1),m=q(s.value*Y.value),_=c(()=>D.value===!0?"left":"right"),V=c(()=>p.value===!0&&z.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:s.value:0),W=c(()=>e.overlay===!0||e.miniToOverlay===!0||n.view.value.indexOf(D.value?"R":"L")!==-1||a.platform.is.ios===!0&&n.isContainer.value===!0),F=c(()=>e.overlay===!1&&p.value===!0&&z.value===!1),ne=c(()=>e.overlay===!0&&p.value===!0&&z.value===!1),Se=c(()=>"fullscreen q-drawer__backdrop"+(p.value===!1&&U.value===!1?" hidden":"")),rt=c(()=>({backgroundColor:`rgba(0,0,0,${ee.value*.4})`})),Qe=c(()=>D.value===!0?n.rows.value.top[2]==="r":n.rows.value.top[0]==="l"),nt=c(()=>D.value===!0?n.rows.value.bottom[2]==="r":n.rows.value.bottom[0]==="l"),it=c(()=>{const o={};return n.header.space===!0&&Qe.value===!1&&(W.value===!0?o.top=`${n.header.offset}px`:n.header.space===!0&&(o.top=`${n.header.size}px`)),n.footer.space===!0&&nt.value===!1&&(W.value===!0?o.bottom=`${n.footer.offset}px`:n.footer.space===!0&&(o.bottom=`${n.footer.size}px`)),o}),ut=c(()=>{const o={width:`${s.value}px`,transform:`translateX(${m.value}px)`};return z.value===!0?o:Object.assign(o,it.value)}),st=c(()=>"q-drawer__content fit "+(n.isContainer.value!==!0?"scroll":"overflow-auto")),ct=c(()=>`q-drawer q-drawer--${e.side}`+(i.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(U.value===!0?" no-transition":p.value===!0?"":" q-layout--prevent-focus")+(z.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${P.value===!0?"mini":"standard"}`+(W.value===!0||F.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Qe.value===!0?" q-drawer--top-padding":""))),dt=c(()=>{const o=a.lang.rtl===!0?e.side:_.value;return[[se,mt,void 0,{[o]:!0,mouse:!0}]]}),vt=c(()=>{const o=a.lang.rtl===!0?_.value:e.side;return[[se,Ae,void 0,{[o]:!0,mouse:!0}]]}),ft=c(()=>{const o=a.lang.rtl===!0?_.value:e.side;return[[se,Ae,void 0,{[o]:!0,mouse:!0,mouseAllDir:!0}]]});function we(){bt(z,e.behavior==="mobile"||e.behavior!=="desktop"&&n.totalWidth.value<=e.breakpoint)}T(z,o=>{o===!0?(x=p.value,p.value===!0&&L(!1)):e.overlay===!1&&e.behavior!=="mobile"&&x!==!1&&(p.value===!0?(E(0),I(0),qe()):O(!1))}),T(()=>e.side,(o,S)=>{n.instances[S]===Q&&(n.instances[S]=void 0,n[S].space=!1,n[S].offset=0),n.instances[o]=Q,n[o].size=s.value,n[o].space=F.value,n[o].offset=V.value}),T(n.totalWidth,()=>{(n.isContainer.value===!0||document.qScrollPrevented!==!0)&&we()}),T(()=>e.behavior+e.breakpoint,we),T(n.isContainer,o=>{p.value===!0&&l(o!==!0),o===!0&&we()}),T(n.scrollbarWidth,()=>{E(p.value===!0?0:void 0)}),T(V,o=>{K("offset",o)}),T(F,o=>{u("onLayout",o),K("space",o)}),T(D,()=>{E()}),T(s,o=>{E(),Ce(e.miniToOverlay,o)}),T(()=>e.miniToOverlay,o=>{Ce(o,s.value)}),T(()=>a.lang.rtl,()=>{E()}),T(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ht(),n.animate())}),T(P,o=>{u("miniState",o)});function E(o){o===void 0?Ve(()=>{o=p.value===!0?0:s.value,E(Y.value*o)}):(n.isContainer.value===!0&&D.value===!0&&(z.value===!0||Math.abs(o)===s.value)&&(o+=Y.value*n.scrollbarWidth.value),m.value=o)}function I(o){ee.value=o}function _e(o){const S=o===!0?"remove":n.isContainer.value!==!0?"add":"";S!==""&&document.body.classList[S]("q-body--drawer-toggle")}function ht(){h!==null&&clearTimeout(h),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),i.value=!0,h=setTimeout(()=>{h=null,i.value=!1,t?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function mt(o){if(p.value!==!1)return;const S=s.value,A=j(o.distance.x,0,S);if(o.isFinal===!0){A>=Math.min(75,S)===!0?O():(n.animate(),I(0),E(Y.value*S)),U.value=!1;return}E((a.lang.rtl===!0?D.value!==!0:D.value)?Math.max(S-A,0):Math.min(0,A-S)),I(j(A/S,0,1)),o.isFirst===!0&&(U.value=!0)}function Ae(o){if(p.value!==!0)return;const S=s.value,A=o.direction===e.side,de=(a.lang.rtl===!0?A!==!0:A)?j(o.distance.x,0,S):0;if(o.isFinal===!0){Math.abs(de)<Math.min(75,S)===!0?(n.animate(),I(1),E(0)):L(),U.value=!1;return}E(Y.value*de),I(j(1-de/S,0,1)),o.isFirst===!0&&(U.value=!0)}function qe(){l(!1),_e(!0)}function K(o,S){n.update(e.side,o,S)}function bt(o,S){o.value!==S&&(o.value=S)}function Ce(o,S){K("size",o===!0?e.miniWidth:S)}return n.instances[e.side]=Q,Ce(e.miniToOverlay,s.value),K("space",F.value),K("offset",V.value),e.showIfAbove===!0&&e.modelValue!==!0&&p.value===!0&&e["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!0),Je(()=>{u("onLayout",F.value),u("miniState",P.value),x=e.showIfAbove===!0;const o=()=>{(p.value===!0?$:w)(!1,!0)};if(n.totalWidth.value!==0){Ve(o);return}y=T(n.totalWidth,()=>{y(),y=void 0,p.value===!1&&e.showIfAbove===!0&&z.value===!1?O(!1):o()})}),ze(()=>{y?.(),h!==null&&(clearTimeout(h),h=null),p.value===!0&&qe(),n.instances[e.side]===Q&&(n.instances[e.side]=void 0,K("size",0),K("offset",0),K("space",!1))}),()=>{const o=[];z.value===!0&&(e.noSwipeOpen===!1&&o.push(ae(k("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),dt.value)),o.push(Fe("div",{ref:"backdrop",class:Se.value,style:rt.value,"aria-hidden":"true",onClick:L},void 0,"backdrop",e.noSwipeBackdrop!==!0&&p.value===!0,()=>ft.value)));const S=P.value===!0&&g.mini!==void 0,A=[k("div",{...f,key:""+S,class:[st.value,f.class]},S===!0?g.mini():at(g.default))];return e.elevated===!0&&p.value===!0&&A.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(Fe("aside",{ref:"content",class:ct.value,style:ut.value},A,"contentclose",e.noSwipeClose!==!0&&z.value===!0,()=>vt.value)),k("div",{class:"q-drawer-container"},o)}}}),aa=le({name:"QPageContainer",setup(e,{slots:g}){const{proxy:{$q:u}}=re(),f=He(pe,N);if(f===N)return console.error("QPageContainer needs to be child of QLayout"),N;lt(Ht,!0);const t=c(()=>{const a={};return f.header.space===!0&&(a.paddingTop=`${f.header.size}px`),f.right.space===!0&&(a[`padding${u.lang.rtl===!0?"Left":"Right"}`]=`${f.right.size}px`),f.footer.space===!0&&(a.paddingBottom=`${f.footer.size}px`),f.left.space===!0&&(a[`padding${u.lang.rtl===!0?"Right":"Left"}`]=`${f.left.size}px`),a});return()=>k("div",{class:"q-page-container",style:t.value},at(g.default))}}),la=le({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:g,emit:u}){const{proxy:{$q:f}}=re(),t=q(null),a=q(f.screen.height),r=q(e.container===!0?0:f.screen.width),l=q({position:0,direction:"down",inflectionPoint:0}),b=q(0),v=q(Qt.value===!0?0:Oe()),n=c(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),x=c(()=>e.container===!1?{minHeight:f.screen.height+"px"}:null),h=c(()=>v.value!==0?{[f.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),y=c(()=>v.value!==0?{[f.lang.rtl===!0?"right":"left"]:0,[f.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function z(w){if(e.container===!0||document.qScrollPrevented!==!0){const O={position:w.position.top,direction:w.direction,directionChanged:w.directionChanged,inflectionPoint:w.inflectionPoint.top,delta:w.delta.top};l.value=O,e.onScroll!==void 0&&u("scroll",O)}}function P(w){const{height:O,width:L}=w;let H=!1;a.value!==O&&(H=!0,a.value=O,e.onScrollHeight!==void 0&&u("scrollHeight",O),p()),r.value!==L&&(H=!0,r.value=L),H===!0&&e.onResize!==void 0&&u("resize",w)}function s({height:w}){b.value!==w&&(b.value=w,p())}function p(){if(e.container===!0){const w=a.value>b.value?Oe():0;v.value!==w&&(v.value=w)}}let d=null;const $={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:t,height:a,containerHeight:b,scrollbarWidth:v,totalWidth:c(()=>r.value+v.value),rows:c(()=>{const w=e.view.toLowerCase().split(" ");return{top:w[0].split(""),middle:w[1].split(""),bottom:w[2].split("")}}),header:fe({size:0,offset:0,space:!1}),right:fe({size:300,offset:0,space:!1}),footer:fe({size:0,offset:0,space:!1}),left:fe({size:300,offset:0,space:!1}),scroll:l,animate(){d!==null?clearTimeout(d):document.body.classList.add("q-body--layout-animate"),d=setTimeout(()=>{d=null,document.body.classList.remove("q-body--layout-animate")},155)},update(w,O,L){$[w][O]=L}};if(lt(pe,$),Oe()>0){let w=function(){H=null,X.classList.remove("hide-scrollbar")},O=function(){if(H===null){if(X.scrollHeight>f.screen.height)return;X.classList.add("hide-scrollbar")}else clearTimeout(H);H=setTimeout(w,300)},L=function(Q){H!==null&&Q==="remove"&&(clearTimeout(H),w()),window[`${Q}EventListener`]("resize",O)},H=null;const X=document.body;T(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),At(()=>{L("remove")})}return()=>{const w=tt(g.default,[k(ot,{onScroll:z}),k(ce,{onResize:P})]),O=k("div",{class:n.value,style:x.value,ref:e.container===!0?void 0:t,tabindex:-1},w);return e.container===!0?k("div",{class:"q-layout-container overflow-hidden",ref:t},[k(ce,{onResize:s}),k("div",{class:"absolute-full",style:h.value},[k("div",{class:"scroll",style:y.value},[O])])]):O}}}),oa="/MuscleMap/assets/logo-fxxtP0JE.png",ra={class:"row items-center q-gutter-sm desktop-menu"},na={class:"q-ml-xs"},ia={class:"q-ml-xs"},ua={class:"q-ml-xs"},sa={style:{position:"absolute",bottom:"0",left:"0",width:"100%"}},ca={__name:"MainLayout",setup(e){const g=Dt(),u=Vt(),f=Ut(),t=Et(),a=q(!1),r=c(()=>t.isLoggedIn?[{icon:"home",label:"首頁",separator:!1,to:"/"},{icon:"accessibility_new",label:"肌肉地圖",separator:!0,to:"/muscle"},{icon:"event_note",label:"推薦課表",separator:!1,to:"/routines"},{icon:"calculate",label:"代謝計算機",separator:!1,to:"/calculator"},{icon:"article",label:"精選文章",separator:!1,to:"/articles"},{icon:"menu_book",label:"動作百科",separator:!0,to:"/wiki"},{icon:"table_chart",label:"INBODY紀錄",separator:!1,to:"/inbody"},{icon:"list_alt",label:"我的課表",separator:!1,to:"/myroutines"}]:[{icon:"home",label:"首頁",separator:!1,to:"/"},{icon:"accessibility_new",label:"肌肉地圖",separator:!0,to:"/muscle"},{icon:"event_note",label:"推薦課表",separator:!1,to:"/routines"},{icon:"calculate",label:"代謝計算機",separator:!1,to:"/calculator"},{icon:"article",label:"精選文章",separator:!1,to:"/articles"},{icon:"menu_book",label:"動作百科",separator:!1,to:"/wiki"}]),l=c(()=>{if(t.isLoggedIn){const h=[];return t.isAdmin&&h.push({icon:"admin_panel_settings",label:"管理頁面",to:"/admin"}),h.push({icon:"account_circle",label:"個人資料",to:"/profile"},{icon:"logout",label:"登出",action:"logout"}),h}else return[{icon:"login",label:"登入",to:"/login"},{icon:"person_add",label:"註冊",to:"/register"}]}),b=h=>{h.action==="logout"&&v()},v=async()=>{try{await Wt.logout(),t.logout(),f.notify({color:"green-4",textColor:"white",icon:"logout",message:"已成功登出"}),u.push("/")}catch(h){console.error("登出失敗:",h),t.logout(),f.notify({color:"orange-4",textColor:"white",icon:"warning",message:"登出完成"}),u.push("/")}},n=h=>h?g.path===h:!1;function x(){a.value=!a.value}return(h,y)=>{const z=Re("router-link"),P=Re("router-view");return B(),R(la,{view:"hHh LpR lFf"},{default:C(()=>[M(Kt,{reveal:"",elevated:"",class:"text-white bg-primary"},{default:C(()=>[M(jt,{class:"bg-primary"},{default:C(()=>[M(he,{dense:"",flat:"",round:"",icon:"menu",onClick:x,class:"mobile-menu-btn"}),M(Nt,{class:"row items-center"},{default:C(()=>[M(z,{to:"/",style:{display:"inline-flex","align-items":"center","text-decoration":"none",color:"inherit"}},{default:C(()=>y[1]||(y[1]=[oe("img",{src:oa},null,-1)])),_:1,__:[1]})]),_:1}),oe("div",ra,[(B(!0),J(G,null,ue(r.value,(s,p)=>(B(),R(he,{key:"toolbar-"+p,size:"15px",flat:"",icon:s.icon,color:"white",to:s.to,class:"q-px-sm parallelogram-btn"},{default:C(()=>[oe("span",na,te(s.label),1)]),_:2},1032,["icon","to"]))),128)),(B(!0),J(G,null,ue(l.value,(s,p)=>(B(),J(G,{key:"toolbar-bottom-"+p},[s.action?(B(),R(he,{key:0,size:"15px",flat:"",icon:s.icon,color:"white",onClick:d=>b(s),class:"q-px-sm parallelogram-btn"},{default:C(()=>[oe("span",ia,te(s.label),1)]),_:2},1032,["icon","onClick"])):(B(),R(he,{key:1,size:"15px",flat:"",icon:s.icon,color:"white",to:s.to,class:"q-px-sm parallelogram-btn"},{default:C(()=>[oe("span",ua,te(s.label),1)]),_:2},1032,["icon","to"]))],64))),128))])]),_:1})]),_:1}),M(ta,{modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=s=>a.value=s),breakpoint:1500,bordered:"",class:"mobile-drawer"},{default:C(()=>[M(ea,{class:"fit"},{default:C(()=>[M(Ne,null,{default:C(()=>[(B(!0),J(G,null,ue(r.value,(s,p)=>(B(),J(G,{key:p},[s.children?(B(),R(Xt,{key:0,icon:s.icon,label:s.label,"expand-separator":""},{default:C(()=>[(B(!0),J(G,null,ue(s.children,(d,$)=>ae((B(),R(ge,{key:$,clickable:"",to:d.action?void 0:d.to,active:n(d.to),"active-class":"text-primary",style:$e(n(d.to)?"background-color: rgba(59, 102, 224, 0.1)":""),onClick:w=>d.action?b(d):void 0},{default:C(()=>[M(Z,{avatar:""},{default:C(()=>[M(me,{name:d.icon,color:n(d.to)?"primary":""},null,8,["name","color"])]),_:2},1024),M(Z,null,{default:C(()=>[be(te(d.label),1)]),_:2},1024)]),_:2},1032,["to","active","style","onClick"])),[[ye]])),128))]),_:2},1032,["icon","label"])):ae((B(),R(ge,{key:1,clickable:"",active:n(s.to),"active-class":"text-primary",style:$e(n(s.to)?"background-color: rgba(59, 102, 224, 0.1)":""),to:s.to},{default:C(()=>[M(Z,{avatar:""},{default:C(()=>[M(me,{name:s.icon,color:n(s.to)?"primary":""},null,8,["name","color"])]),_:2},1024),M(Z,null,{default:C(()=>[be(te(s.label),1)]),_:2},1024)]),_:2},1032,["active","style","to"])),[[ye]]),s.separator?(B(),R(Rt,{key:"sep"+p})):Ft("",!0)],64))),128))]),_:1}),oe("div",sa,[M(Ne,null,{default:C(()=>[(B(!0),J(G,null,ue(l.value,(s,p)=>(B(),J(G,{key:"bottom"+p},[s.action?ae((B(),R(ge,{key:0,clickable:"",onClick:d=>b(s)},{default:C(()=>[M(Z,{avatar:""},{default:C(()=>[M(me,{name:s.icon},null,8,["name"])]),_:2},1024),M(Z,null,{default:C(()=>[be(te(s.label),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[ye]]):ae((B(),R(ge,{key:1,clickable:"",to:s.to,active:n(s.to),"active-class":"text-primary",style:$e(n(s.to)?"background-color: rgba(59, 102, 224, 0.1)":"")},{default:C(()=>[M(Z,{avatar:""},{default:C(()=>[M(me,{name:s.icon,color:n(s.to)?"primary":""},null,8,["name","color"])]),_:2},1024),M(Z,null,{default:C(()=>[be(te(s.label),1)]),_:2},1024)]),_:2},1032,["to","active","style"])),[[ye]])],64))),128))]),_:1})])]),_:1})]),_:1},8,["modelValue"]),M(aa,null,{default:C(()=>[M(P)]),_:1})]),_:1})}}},wa=It(ca,[["__scopeId","data-v-e81c8293"]]);export{wa as default};
